# ì´ì¤‘ ìš°ì„ ìˆœìœ„ í ğŸ…
> í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ë ˆë²¨ 3, ì½”ë”©í…ŒìŠ¤íŠ¸ ê³ ë“ì  Kit <br>
> https://school.programmers.co.kr/learn/courses/30/lessons/42628

<br>

> ë¹„ìŠ·í•œ ë¬¸ì œ: ë°±ì¤€ì˜ [ìš°ì„ ìˆœìœ„ í](https://www.acmicpc.net/problem/7662)

<br>

## ğŸ… ë¬¸ì œ ì¡°ê±´
- 1 <= operations ê¸¸ì´ <= 1,000,000
- ì£¼ì–´ì§„ operationsì€ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•œë‹¤.
    - I ìˆ«ì: íì— ì£¼ì–´ì§„ ìˆ«ìë¥¼ ì‚½ì… (ì¤‘ë³µëœ ìˆ«ìê°€ ìˆì„ ìˆ˜ ìˆë‹¤)
    - D 1: íì—ì„œ ìµœëŒ“ê°’ì‚­ì œ
    - D -1: íì—ì„œ ìµœì†Ÿê°’ ì‚­ì œ
- ë¹ˆ íì— ë°ì´í„°ë¥¼ ì‚­ì œí•˜ë¼ëŠ” ì—°ì‚°ì´ ì£¼ì–´ì§ˆ ê²½ìš°, í•´ë‹¹ ì—°ì‚°ì€ ë¬´ì‹œí•œë‹¤.
- ì—°ì‚°ì„ ë§ˆì¹œí›„, [ìµœëŒ“ê°’, ìµœì†Ÿê°’]ì„ ë°˜í™˜í•˜ë¼ (íê°€ ë¹„ì–´ìˆë‹¤ë©´ [0, 0] ë°˜í™˜)

<br>

## ğŸ… ì˜ˆì œ

### [ ì˜ˆì œ1 ]
```
operations: ["I -45", "I 653", "D 1", "I -642", "I 45", "I 97", "D 1", "D -1", "I 333"]	
```

- ì—°ì‚°ì¤‘..
    - -45ë¥¼ ë„£ëŠ”ë‹¤. -> q: [ -45 ]
    - 653ì„ ë„£ëŠ”ë‹¤. -> q: [-45, 635]
    - ìµœëŒ“ê°’ì„ ì‚­ì œí•œë‹¤. -> q: [ -45 ]
    - -642ë¥¼ ë„£ëŠ”ë‹¤. -> q: [ -645, -45 ]
    - 45ë¥¼ ë„£ëŠ”ë‹¤. -> q: [ -645, -45, 45 ]
    - 97ë¥¼ ë„£ëŠ”ë‹¤. -> q: [ -645, -45, 45, 97 ]
    - ìµœëŒ“ê°’ì„ ì‚­ì œí•œë‹¤. -> q: [ -645, -45, 45 ]
    - ìµœì†Ÿê°’ì„ ì‚­ì œí•œë‹¤. -> q: [ -45, 45 ]
    - 333ì„ ë„£ëŠ”ë‹¤. -> q: [ -45, 45, 333 ]
- ì—°ì‚° ë!
    - íì— ë‚¨ì•„ìˆëŠ” ìµœëŒ“ê°’ 333, ìµœì†Ÿê°’ -45ë¥¼ ë°˜í™˜í•œë‹¤.


<br>

## ğŸ… ë¬¸ì œ ì•„ì´ë””ì–´
1. ì£¼ì–´ì§„ ì—°ì‚°ì— ë”°ë¼ ìµœì†Ÿê°’ or ìµœëŒ“ê°’ì„ ê³„ì† ë½‘ì•„ë‚´ì•¼í•œë‹¤
    - **ìµœëŒ€í™ê³¼ ìµœì†Œí™ì„ ë‘˜ë‹¤ êµ¬í˜„**í•´ì„œ ì‚¬ìš©í•˜ê¸°!
2. **ìµœëŒ€í™ê³¼ ìµœì†Œí™ì˜ ì—°ë™**ì„ ì–´ë–»ê²Œ í• ê²ƒì¸ê°€?
    - ê°„ë‹¨í•œ ë°©ë²• : List.remove() ì‚¬ìš©
    - set í˜¹ì€ dict ì‚¬ìš©
    - visited ë°°ì—´ ì‚¬ìš©
        - ì¸ë±ìŠ¤ëŠ” ë“¤ì–´ì˜¨ ìˆœì„œ ìì²´ë¡œ í•´ì¤€ë‹¤.
        - ìµœëŒ€í™, ìµœì†Œí™ì— ì›ì†Œë¥¼ ë„£ì„ë•Œ, ë“¤ì–´ì˜¨ ìˆœì„œë„ ë„£ì–´ì¤˜ì„œ ì°¾ì„ ìˆ˜ ìˆê²Œë”í•œë‹¤.


<br>
<br>

## ğŸ… ì½”ë“œ

```python
import heapq

def solution(operations):
    
    q_min = []
    q_max = []
    for operation in operations:
        if operation.startswith("I"):
            num = int(operation.split()[-1])
            heapq.heappush(q_min, num)
            heapq.heappush(q_max, -num)
        elif q_min:
            if operation == "D -1":
                min_num = heapq.heappop(q_min)
                # ìµœì†Œí™ê³¼ ìµœëŒ€í™ì—°ë™
                q_max.remove(-min_num)
                
            else:
                max_num = heapq.heappop(q_max)
                # ìµœì†Œí™ê³¼ ìµœëŒ€í™ì—°ë™
                q_min.remove(-max_num)
    answer = []
    if q_min:
        min_num = heapq.heappop(q_min)
        max_num = heapq.heappop(q_max)
        answer = [-max_num, min_num]
    else:
        answer = [0,0]
    return answer

```

<br>
<br>

## ğŸ… íš¨ìœ¨ì„±ì„ ë†’ì¸ ì½”ë“œ 1
- ìµœì†Œí™ê³¼ ìµœëŒ€í™ì˜ ë™ê¸°í™”ë¥¼ ìœ„í•´ List.remove()ë¥¼ í•˜ë©´ ë‹¹ì—°íˆ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§€ê²Œëœë‹¤.
- ì´ëŒ€ì‹ , set ì´ë‚˜ dict ì¨ì„œ ë™ê¸°í™”ë¥¼ í•  ìˆ˜ë„ ìˆë‹¤. 
- ìˆ«ìì‚¬ì´ì— ì¤‘ë³µì´ ì—†ìœ¼ë©´ setì„ ì¼ê² ì§€ë§Œ, ì¤‘ë³µì´ ìˆì„ìˆ˜ ìˆì–´ dictì„ ì‚¬ìš©í–ˆë‹¤.

```python
import heapq
from collections import defaultdict

def solution(operations):
    
    q_min = []
    q_max = []
    q_num = defaultdict(int)

    for operation in operations:
        if operation.startswith("I"):
            num = int(operation.split()[-1])
            heapq.heappush(q_min, num)
            heapq.heappush(q_max, -num)
            q_num[num] += 1
        elif operation == "D -1":
            # ì‹¤ì œë¡œ íì— ì¡´ì¬í•˜ëŠ” ê°’ì´ ë‚˜ì˜¬ë•Œê¹Œì§€, ìµœì†Œí™ì—ì„œ ì›ì†Œë¥¼ ë¹¼ë‚¸ë‹¤.
            while q_min:
                min_num = heapq.heappop(q_min)
                # íì— í˜„ì¬ ì¡´ì¬í•˜ëŠ” ê°’ì¸ì§€ ì²´í¬
                if q_num.get(min_num) > 0:
                    q_num[min_num] -= 1
                    break
        else:
            # ì‹¤ì œë¡œ íì— ì¡´ì¬í•˜ëŠ” ê°’ì´ ë‚˜ì˜¬ë•Œê¹Œì§€, ìµœëŒ€í™ì—ì„œ ì›ì†Œë¥¼ ë¹¼ë‚¸ë‹¤.
            while q_max:
                max_num = heapq.heappop(q_max)
                # íì— í˜„ì¬ ì¡´ì¬í•˜ëŠ” ê°’ì¸ì§€ ì²´í¬
                if q_num.get(-max_num) > 0:
                    q_num[-max_num] -= 1
                    break
    
    answer = [0, 0]
    while q_max:
        max_num = heapq.heappop(q_max)
        if q_num.get(-max_num) > 0:
            answer[0] = -max_num
            break
            
    while q_min:
        min_num = heapq.heappop(q_min)
        if q_num.get(min_num) > 0:
            answer[1] = min_num
            break
    return answer
```
<br>
<br>

## ğŸ… íš¨ìœ¨ì„±ì„ ë†’ì¸ ì½”ë“œ 2
- ìµœì†Œí™ê³¼ ìµœëŒ€í™ì˜ ë™ê¸°í™”ë¥¼ ìœ„í•´ set ì´ë‚˜ dict ë§ê³ ë„, visited ë°°ì—´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ëŒ€ì²´ ë­˜ë¡œ ì¸ë±ìŠ¤ë¥¼ ë‘¬ì•¼í•˜ë‚˜ ê³ ë¯¼í–ˆì—ˆëŠ”ë°, ë“¤ì–´ì˜¨ ìˆœì„œ ìì²´ë¥¼ ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©í–ˆë‹¤.
- ìµœëŒ€í™, ìµœì†Œí™ì— ì›ì†Œë¥¼ ë„£ì„ë•Œ, ì‹¤ì œ ê°’ë§ê³ ë„ ì´ ë“¤ì–´ì˜¨ ìˆœì„œë„ ë„£ì–´ì¤€ë‹¤.
```python
import heapq

def solution(operations):
    
    q_min = []
    q_max = []
    # ì—°ì‚° ìˆœì„œë¥¼ ì¸ë±ìŠ¤ë¡œ ì„¤ì •
    visited = [False for _ in range(len(operations))]

    for i in range(len(operations)):
        if operations[i].startswith("I"):
            num = int(operations[i].split()[-1])
            # ìµœëŒ€í™ ìµœì†Œí™ì— ì‹¤ì œ ê°’ë§ê³ ë„ ì—°ì‚°ìˆœì„œë¥¼ ì €ì¥
            heapq.heappush(q_min, (num, i))
            heapq.heappush(q_max, (-num, i))

        elif operations[i] == "D -1":
            # ë°©ë¬¸í•˜ì§€ ì•Šì€ ê°’ì´ ë‚˜ì˜¬ë•Œê¹Œì§€, ìµœì†Œí™ì—ì„œ ì›ì†Œë¥¼ êº¼ë‚¸ë‹¤.
            while q_min:
                min_num = heapq.heappop(q_min)
                # ì—°ì‚°ìˆœì„œë¥¼ ì´ìš©í•´ì„œ ë°©ë¬¸í–ˆëŠ”ê°€ë¥¼ í™•ì¸í•œë‹¤
                if not visited[min_num[1]]:
                    visited[min_num[1]] = True
                    break
        else:
            # ë°©ë¬¸í•˜ì§€ ì•Šì€ ê°’ì´ ë‚˜ì˜¬ë•Œê¹Œì§€, ìµœì†Œí™ì—ì„œ ì›ì†Œë¥¼ êº¼ë‚¸ë‹¤.
            while q_max:
                max_num = heapq.heappop(q_max)
                if not visited[max_num[1]]:
                    visited[max_num[1]] = True
                    break
    
    answer = [0, 0]
    while q_max:
        max_num = heapq.heappop(q_max)
        if not visited[max_num[1]]:
            answer[0] = -max_num[0]
            break
            
    while q_min:
        min_num = heapq.heappop(q_min)
        if not visited[min_num[1]]:
            answer[1] = min_num[0]
            break
    return answer
```